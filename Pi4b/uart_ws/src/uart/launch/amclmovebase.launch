<?xml version="1.0"?>
<launch>
  <param name="/use_sime_time" value="true"/>
  <!-- Transformation Configuration ... Setting Up the Relationships Between Coordinate Frames --> 
  <node pkg="tf" type="static_transform_publisher" name="base_link_to_laser" args="0 0 0.25 0 0 0 base_link laser 40" />
  <node pkg="tf" type="static_transform_publisher" name="imu_broadcaster" args="0 0 -0.11 0 0 0 base_link imu 30" />
  <!-- odom to base_footprint transform will be provided by the robot_pose_ekf node -->
  <!-- map to odom will be provided by the AMCL -->
  <!-- <node pkg="tf" type="static_transform_publisher" name="map_to_odom" args="0 0 0 0 0 0 map odom 30" /> -->

  

  <!-- IMU Data Publisher Using the BNO055 IMU Sensor -->
  <!-- Publish: /imu/data -->
  <include file="$(find rplidar_ros)/launch/rplidar.launch" />
  <include file="$(find uart)/launch/scanmatcher.launch" />

  <!-- Initial Pose and Goal Publisher -->
  <!-- Pubish: /initialpose, /move_base_simple/goal -->

  <!-- Map File -->
  <arg name="map_file" default="$(find uart)/map/map.yaml"/>
	
  <!-- Map Server -->
  <!-- Publish: /map, /map_metadata -->
  <node pkg="map_server" name="map_server" type="map_server" args="$(arg map_file)">
  </node>
	
  <!-- Add AMCL example for differential drive robots for Localization -->
  <!-- Subscribe: /scan, /tf, /initialpose, /map -->
  <!-- Publish: /amcl_pose, /particlecloud, /tf -->
  <include file="$(find uart)/launch/amcl.launch"/>
	
  <!-- Move Base Node -->
  <!-- Subscribe: /move_base_simple/goal -->
  <!-- Publish: /cmd_vel -->

  

 <include file="$(find uart)/launch/movebase.launch" />
  
  <!-- Control 2 wheel from Jetson to STM-->
  <node name="listenuart" pkg="uart"  type="listen_and_uart" />

</launch>
